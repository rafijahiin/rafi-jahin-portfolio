<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rafi Jahin | Technology & Evaluation Specialist</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals & Muted Teal -->
    <!-- Application Structure Plan: The SPA is a narrative journey starting with a "Key Metrics" dashboard. It flows into an "AI Career Assistant" powered by the Gemini API, an interactive "Experience" section, and an expanded "Publications & Media" section. It concludes with a "Skills" chart and "Career Timeline". This structure provides a comprehensive, interactive, and evidence-based view of the candidate's profile. -->
    <!-- Visualization & Content Choices: 
        - Key Metrics (From CV achievements): Goal: Inform/Impress -> Method: Large number cards -> Interaction: Hover effects -> Justification: Highlights quantifiable impact upfront.
        - Experience (CV work history): Goal: Organize/Inform -> Method: JS-powered Tabs -> Interaction: Click to reveal role details -> Justification: Prevents a wall of text and improves navigation.
        - Publications & Media (From user's website): Goal: Provide Evidence -> Method: Grid of linked cards -> Interaction: Click to read external articles -> Justification: Offers concrete proof of expertise and public engagement.
        - Technical Skills (From CV skills list): Goal: Compare/Inform -> Method: Chart.js Radar Chart -> Interaction: Hover tooltips -> Justification: Visually represents multi-faceted expertise.
        - Career Path (From CV roles/dates): Goal: Show Change -> Method: HTML/CSS Timeline -> Interaction: None, purely visual -> Justification: Provides a clear, chronological story.
        - AI Cover Letter Helper: Goal: Demonstrate/Synthesize -> Method: Gemini API Call -> Interaction: User input (job description) -> Justification: Showcases practical AI application.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF8;
            color: #383838;
        }
        .tab-active {
            border-color: #4A908A;
            color: #4A908A;
            font-weight: 600;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .publication-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .publication-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
        }
    </style>
</head>
<body class="antialiased">

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">

        <header class="text-center mb-16">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-800">Rafi Jahin</h1>
            <p class="mt-2 text-lg md:text-xl text-gray-600">Technology & Evaluation Specialist | AI in Development</p>
            <div class="mt-4 flex justify-center space-x-6 text-sm">
                <a href="mailto:rafijahinn@gmail.com" class="text-gray-500 hover:text-[#4A908A] transition-colors">rafijahinn@gmail.com</a>
                <a href="https://sites.google.com/view/rafi-jahin/" target="_blank" class="text-gray-500 hover:text-[#4A908A] transition-colors">Portfolio</a>
                <a href="https://www.linkedin.com/in/rafi-jahin/" target="_blank" class="text-gray-500 hover:text-[#4A908A] transition-colors">LinkedIn</a>
            </div>
        </header>

        <section id="metrics" class="mb-16">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold text-gray-800">Impact at a Glance</h2>
                <p class="mt-2 text-gray-600">A snapshot of my professional contributions and their scale.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 text-center">
                <div class="bg-white/60 p-6 rounded-lg shadow-sm">
                    <p class="text-4xl font-bold text-[#4A908A]">185,000+</p>
                    <p class="text-gray-600 mt-2">People with Improved Healthcare Access</p>
                </div>
                <div class="bg-white/60 p-6 rounded-lg shadow-sm">
                    <p class="text-4xl font-bold text-[#4A908A]">460+</p>
                    <p class="text-gray-600 mt-2">Documents & Interviews Processed with AI</p>
                </div>
                <div class="bg-white/60 p-6 rounded-lg shadow-sm">
                    <p class="text-4xl font-bold text-[#4A908A]">40%</p>
                    <p class="text-gray-600 mt-2">Reduction in Data Processing Time</p>
                </div>
                <div class="bg-white/60 p-6 rounded-lg shadow-sm">
                    <p class="text-4xl font-bold text-[#4A908A]">1,350+</p>
                    <p class="text-gray-600 mt-2">Paramedics Trained via E-Learning System</p>
                </div>
            </div>
        </section>
        
        <section id="ai-assistant" class="mb-16 bg-white/60 p-8 rounded-lg shadow-sm">
            <div class="text-center mb-6">
                <h2 class="text-3xl font-bold text-gray-800">✨ AI-Powered Career Assistant</h2>
                <p class="mt-2 text-gray-600">Paste a job description below to see how my experience aligns. This tool uses the Gemini API to generate a targeted cover letter snippet.</p>
            </div>
            <div class="max-w-3xl mx-auto">
                <textarea id="jobDescription" class="w-full h-40 p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#4A908A] focus:border-transparent transition" placeholder="Paste the job description here..."></textarea>
                <p id="jobDescriptionError" class="text-red-500 text-sm mt-1 hidden">Please paste a job description first.</p>
                <button id="generateSnippetBtn" class="mt-4 w-full bg-[#4A908A] text-white font-bold py-3 px-4 rounded-md hover:bg-[#3E7A73] transition-colors disabled:bg-gray-400">
                    Generate Cover Letter Snippet ✨
                </button>
                <div id="snippetResult" class="mt-6 p-4 border border-dashed border-gray-300 rounded-md bg-gray-50 min-h-[100px] hidden">
                    <p id="generatedText" class="text-gray-700 whitespace-pre-wrap"></p>
                    <button id="copySnippetBtn" class="hidden mt-4 bg-gray-200 text-gray-700 text-sm font-bold py-2 px-3 rounded-md hover:bg-gray-300 transition-colors">Copy to Clipboard</button>
                </div>
            </div>
        </section>

        <section id="experience" class="mb-16">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold text-gray-800">Professional Experience</h2>
                <p class="mt-2 text-gray-600">I leverage technology to solve complex challenges in international development. Select a role to see how.</p>
            </div>
            <div class="max-w-4xl mx-auto">
                <div class="mb-6 border-b border-gray-200">
                    <nav class="-mb-px flex space-x-6" aria-label="Tabs">
                        <button class="tab whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm text-gray-500 hover:border-gray-300 tab-active" data-tab="unfpa">UNFPA</button>
                        <button class="tab whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm text-gray-500 hover:border-gray-300" data-tab="swisscontact">Swisscontact</button>
                        <button class="tab whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm text-gray-500 hover:border-gray-300" data-tab="gain">GAIN</button>
                    </nav>
                </div>
                <div id="tab-content">
                    <div class="tab-pane" id="unfpa">
                        <h3 class="text-xl font-bold text-gray-800">National Young & Emerging Evaluator</h3>
                        <p class="text-sm text-gray-500 mb-4">Feb 2025 – Present</p>
                        <ul class="space-y-3 text-gray-700 list-disc list-inside">
                            <li>Built a pioneering AI-assisted analytical workflow (NotebookLM & Gemini) to process over 300 program documents and 160 stakeholder interviews, enhancing the rigor of the 10th Country Programme Evaluation.</li>
                            <li>Authored core chapters on Findings, Conclusions, and Recommendations for the Final Evaluation Report, directly influencing strategic planning.</li>
                            <li>Produced interactive Power BI dashboards to translate complex evaluation data into actionable insights for high-level management.</li>
                            <li>Led team training on AI tools for qualitative analysis, boosting team productivity and technical capacity.</li>
                        </ul>
                    </div>
                    <div class="tab-pane hidden" id="swisscontact">
                        <h3 class="text-xl font-bold text-gray-800">Officer, Partnership & Innovation</h3>
                        <p class="text-sm text-gray-500 mb-4">Nov 2021 – Aug 2024</p>
                        <ul class="space-y-3 text-gray-700 list-disc list-inside">
                            <li>Led the product lifecycle for Bangladesh’s first open-source, mobile-optimized Moodle LMS for community paramedics, designed for low-bandwidth areas to serve over 30,000 users.</li>
                            <li>Managed platform adoption across 10 institutes, onboarding 500+ students and 50+ faculty, setting a new national standard for blended learning in vocational healthcare.</li>
                            <li>Scaled the e-learning system to train over 1,350 paramedics (60% women), directly improving healthcare access for more than 185,000 people.</li>
                             <li>Built strategic coalitions across public and private sectors to ensure the long-term sustainability and market integration of the e-learning ecosystem.</li>
                        </ul>
                    </div>
                    <div class="tab-pane hidden" id="gain">
                        <h3 class="text-xl font-bold text-gray-800">Project Assistant, Innovation & Supply Chain</h3>
                        <p class="text-sm text-gray-500 mb-4">Aug 2024 – Feb 2025</p>
                        <ul class="space-y-3 text-gray-700 list-disc list-inside">
                             <li>Supported digital innovation in agricultural supply chains by implementing a blockchain-based dashboard and QR code traceability system.</li>
                             <li>Analyzed data from over 1,500 farmers to develop predictive analytics models for supply chain optimization.</li>
                             <li>Coordinated youth entrepreneurship initiatives, supporting the launch of more than 30 new small businesses in the agricultural sector.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <section id="publications" class="mb-16">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold text-gray-800">Publications & Media</h2>
                <p class="mt-2 text-gray-600">My work and insights featured in various publications.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="publication-card bg-white/60 p-6 rounded-lg shadow-sm flex flex-col">
                    <h3 class="text-lg font-bold text-gray-800 mb-2 flex-grow">Can AI be a game-changer for Bangladesh's development story?</h3>
                    <p class="text-sm text-gray-600 mb-4 flex-grow">An op-ed on the potential of AI to accelerate development in Bangladesh, focusing on practical applications and ethical considerations.</p>
                    <a href="https://www.dhakatribune.com/opinion/op-ed/334207/can-ai-be-a-game-changer-for-bangladesh-s" target="_blank" class="text-[#4A908A] font-semibold hover:underline self-start">Read More →</a>
                </div>
                <div class="publication-card bg-white/60 p-6 rounded-lg shadow-sm flex flex-col">
                    <h3 class="text-lg font-bold text-gray-800 mb-2 flex-grow">From the Margins to the Mainstream</h3>
                    <p class="text-sm text-gray-600 mb-4 flex-grow">A personal narrative on navigating gender transition and the role of technology in fostering inclusion and creating opportunities.</p>
                    <a href="https://www.thedailystar.net/shout/news/the-margins-the-mainstream-3183531" target="_blank" class="text-[#4A908A] font-semibold hover:underline self-start">Read More →</a>
                </div>
                <div class="publication-card bg-white/60 p-6 rounded-lg shadow-sm flex flex-col">
                    <h3 class="text-lg font-bold text-gray-800 mb-2 flex-grow">Youth-led Digital Solution to Fight COVID-19</h3>
                    <p class="text-sm text-gray-600 mb-4 flex-grow">Details a project where a youth-led team developed a digital platform to provide reliable information and resources during the pandemic.</p>
                    <a href="https://www.swisscontact.org/en/news/youth-led-digital-solution-to-fight-covid-19-in-bangladesh" target="_blank" class="text-[#4A908A] font-semibold hover:underline self-start">Read More →</a>
                </div>
                <div class="publication-card bg-white/60 p-6 rounded-lg shadow-sm flex flex-col">
                    <h3 class="text-lg font-bold text-gray-800 mb-2 flex-grow">Astha: A digital solution for women’s health</h3>
                    <p class="text-sm text-gray-600 mb-4 flex-grow">Highlighting the 'Astha' project, a digital platform designed to improve access to healthcare information and services for women.</p>
                    <a href="https://www.swisscontact.org/en/news/astha-a-digital-solution-for-womens-health" target="_blank" class="text-[#4A908A] font-semibold hover:underline self-start">Read More →</a>
                </div>
                <div class="publication-card bg-white/60 p-6 rounded-lg shadow-sm flex flex-col">
                    <h3 class="text-lg font-bold text-gray-800 mb-2 flex-grow">Blended learning model for community paramedics</h3>
                    <p class="text-sm text-gray-600 mb-4 flex-grow">An overview of the innovative blended learning model developed for paramedic training, combining digital and in-person instruction.</p>
                    <a href="https://www.swisscontact.org/en/news/blended-learning-model-for-community-paramedics" target="_blank" class="text-[#4A908A] font-semibold hover:underline self-start">Read More →</a>
                </div>
                <div class="publication-card bg-white/60 p-6 rounded-lg shadow-sm flex flex-col">
                    <h3 class="text-lg font-bold text-gray-800 mb-2 flex-grow">Bangladesh’s first open-source e-learning platform</h3>
                    <p class="text-sm text-gray-600 mb-4 flex-grow">The story behind the launch of the country's first open-source e-learning platform, aimed at democratizing vocational training.</p>
                    <a href="https://www.swisscontact.org/en/news/bangladeshs-first-open-source-e-learning-platform" target="_blank" class="text-[#4A908A] font-semibold hover:underline self-start">Read More →</a>
                </div>
                 <div class="publication-card bg-white/60 p-6 rounded-lg shadow-sm flex flex-col">
                    <h3 class="text-lg font-bold text-gray-800 mb-2 flex-grow">Job fair connects paramedics with employers</h3>
                    <p class="text-sm text-gray-600 mb-4 flex-grow">An article covering a job fair in Sylhet organized to connect trained community paramedics with potential healthcare employers.</p>
                    <a href="https://www.swisscontact.org/en/news/job-fair-in-sylhet-connects-community-paramedics-with-employers" target="_blank" class="text-[#4A908A] font-semibold hover:underline self-start">Read More →</a>
                </div>
                <div class="publication-card bg-white/60 p-6 rounded-lg shadow-sm flex flex-col">
                    <h3 class="text-lg font-bold text-gray-800 mb-2 flex-grow">e-Learning in Paramedic Education (Video)</h3>
                    <p class="text-sm text-gray-600 mb-4 flex-grow">A video feature showcasing the impact and implementation of the e-learning platform for community paramedic training in Bangladesh.</p>
                    <a href="https://www.youtube.com/watch?v=4ZvAVU-j8W8" target="_blank" class="text-[#4A908A] font-semibold hover:underline self-start">Watch Video →</a>
                </div>
                 <div class="publication-card bg-white/60 p-6 rounded-lg shadow-sm flex flex-col">
                    <h3 class="text-lg font-bold text-gray-800 mb-2 flex-grow">Healthcare Career Fair in Rangpur (Video)</h3>
                    <p class="text-sm text-gray-600 mb-4 flex-grow">Video covering a career fair for healthcare workers in Rangpur, organized with 20 healthcare-providing organizations.</p>
                    <a href="https://www.facebook.com/shomvobBD/videos/%E0%A7%A8%E0%A7%A6-%E0%A6%B8%E0%A7%8D%E0%A6%AC%E0%A6%BE%E0%A6%B8%E0%A7%8D%E0%A6%A5%E0%A6%B8%E0%A7%87%E0%A6%AC%E0%A6%BE-%E0%A6%AA%E0%A7%8D%E0%A6%B0%E0%A6%A7%E0%A6%BE%E0%A6%A8%E0%A6%95%E0%A6%BE%E0%A6%B0%E0%A7%80-%E0%A6%B8%E0%A6%82%E0%A6%B8%E0%A7%8D%E0%A6%A5%E0%A6%BE-%E0%A6%A8%E0%A6%BF%E0%A7%9F%E0%A7%87-%E0%A6%86%E0%A7%9F%E0%A7%8B%E0%A6%9C%E0%A6%BF%E0%A6%A4-%E0%A6%B0%E0%A6%82%E0%A6%AA%E0%A7%81%E0%A6%B0%E0%A7%87-%E0%A6%B8%E0%A7%8D%E0%A6%AC%E0%A6%BE%E0%A6%B8%E0%A7%8D%E0%A6%A5%E0%A6%95%E0%A6%B0%E0%A7%8D%E0%A6%AE%E0%A7%80%E0%A6%B0-%E0%A6%95%E0%A7%8D%E0%A6%AF%E0%A6%BE%E0%A6%B0%E0%A6%BF%E0%A7%9F%E0%A6%BE%E0%A6%B0-%E0%A6%AE%E0%A7%87%E0%A6%B2%E0%A6%BE/1530961021139389/" target="_blank" class="text-[#4A908A] font-semibold hover:underline self-start">Watch Video →</a>
                </div>
                 <div class="publication-card bg-white/60 p-6 rounded-lg shadow-sm flex flex-col">
                    <h3 class="text-lg font-bold text-gray-800 mb-2 flex-grow">Community Paramedic training now digitized</h3>
                    <p class="text-sm text-gray-600 mb-4 flex-grow">An article on the digitization of the CP training curriculum, making it more interactive and accessible for students nationwide.</p>
                    <a href="https://www.swisscontact.org/en/news/the-community-paramedic-cp-training-is-now-interactively-digitized" target="_blank" class="text-[#4A908A] font-semibold hover:underline self-start">Read More →</a>
                </div>
                 <div class="publication-card bg-white/60 p-6 rounded-lg shadow-sm flex flex-col">
                    <h3 class="text-lg font-bold text-gray-800 mb-2 flex-grow">Teachers trained on e-learning platform Astha</h3>
                    <p class="text-sm text-gray-600 mb-4 flex-grow">News about a training session for teachers to effectively use the Astha e-learning platform for their students.</p>
                    <a href="https://www.swisscontact.org/en/news/teachers-receive-training-on-e-learning-platform-astha" target="_blank" class="text-[#4A908A] font-semibold hover:underline self-start">Read More →</a>
                </div>
                 <div class="publication-card bg-white/60 p-6 rounded-lg shadow-sm flex flex-col">
                    <h3 class="text-lg font-bold text-gray-800 mb-2 flex-grow">Astha takes e-learning to the next level</h3>
                    <p class="text-sm text-gray-600 mb-4 flex-grow">An update on the advancements of the Astha platform, enhancing its interactive features for a better learning experience.</p>
                    <a href="https://www.swisscontact.org/en/news/astha-takes-interactive-e-learning-to-its-next-level" target="_blank" class="text-[#4A908A] font-semibold hover:underline self-start">Read More →</a>
                </div>
            </div>
        </section>


        <section id="skills" class="mb-16">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold text-gray-800">Core Competencies</h2>
                <p class="mt-2 text-gray-600">A multi-faceted skill set to drive projects from concept to impact.</p>
            </div>
            <div class="chart-container">
                <canvas id="skillsChart"></canvas>
            </div>
        </section>

        <section id="timeline">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-800">Career Journey</h2>
                <p class="mt-2 text-gray-600">My professional path in technology and development.</p>
            </div>
            <div class="relative max-w-2xl mx-auto">
                <div class="absolute left-1/2 w-0.5 h-full bg-gray-200"></div>
                <div class="relative mb-8 flex justify-between items-center w-full">
                    <div class="w-5/12"></div>
                    <div class="z-10 bg-[#4A908A] text-white rounded-full h-8 w-8 flex items-center justify-center">●</div>
                    <div class="w-5/12 text-left pl-8">
                        <p class="font-bold">UNFPA</p>
                        <p class="text-sm text-gray-600">2025 - Present</p>
                    </div>
                </div>
                <div class="relative mb-8 flex justify-between items-center w-full">
                    <div class="w-5/12 text-right pr-8">
                        <p class="font-bold">GAIN</p>
                        <p class="text-sm text-gray-600">2024 - 2025</p>
                    </div>
                     <div class="z-10 bg-[#4A908A] text-white rounded-full h-8 w-8 flex items-center justify-center">●</div>
                    <div class="w-5/12"></div>
                </div>
                <div class="relative mb-8 flex justify-between items-center w-full">
                    <div class="w-5/12"></div>
                    <div class="z-10 bg-[#4A908A] text-white rounded-full h-8 w-8 flex items-center justify-center">●</div>
                    <div class="w-5/12 text-left pl-8">
                        <p class="font-bold">Swisscontact</p>
                        <p class="text-sm text-gray-600">2021 - 2024</p>
                    </div>
                </div>
                 <div class="relative mb-8 flex justify-between items-center w-full">
                    <div class="w-5/12 text-right pr-8">
                        <p class="font-bold">B.Sc. in IT</p>
                        <p class="text-sm text-gray-600">2016 - 2020</p>
                    </div>
                     <div class="z-10 bg-[#4A908A] text-white rounded-full h-8 w-8 flex items-center justify-center">●</div>
                    <div class="w-5/12"></div>
                </div>
            </div>
        </section>

    </main>

    <footer class="text-center py-8 border-t border-gray-200 mt-16">
        <p class="text-gray-500 text-sm">Rafi Jahin | Dhaka, Bangladesh</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const cvData = {
                summary: "Technology and evaluation specialist pioneering the integration of AI tools to optimize data analysis and innovation in international development. Five years' experience at UNFPA, GAIN, and Swisscontact, with strengths in scaling digital solutions and conducting complex mixed-methods evaluations. Developed and implemented a proprietary AI-assisted workflow using Gemini and NotebookLM to drastically enhance the efficiency and rigor of evidence generation, from data synthesis to reporting.",
                experience: [
                    {
                        organization: "UNFPA",
                        title: "National Young & Emerging Evaluator",
                        points: [
                            "Built a pioneering AI-assisted analytical workflow (NotebookLM & Gemini) to process over 300 program documents and 160 stakeholder interviews, enhancing the rigor of the 10th Country Programme Evaluation.",
                            "Authored core chapters on Findings, Conclusions, and Recommendations for the Final Evaluation Report, directly influencing strategic planning.",
                            "Produced interactive Power BI dashboards to translate complex evaluation data into actionable insights for high-level management.",
                            "Led team training on AI tools for qualitative analysis, boosting team productivity and technical capacity."
                        ]
                    },
                    {
                        organization: "Swisscontact",
                        title: "Officer, Partnership & Innovation",
                        points: [
                            "Led the product lifecycle for Bangladesh’s first open-source, mobile-optimized Moodle LMS for community paramedics, serving over 30,000 users.",
                            "Scaled the e-learning system to train over 1,350 paramedics (60% women), improving healthcare access for more than 185,000 people.",
                            "Built strategic coalitions across public and private sectors to ensure the long-term sustainability and market integration of the e-learning ecosystem."
                        ]
                    }
                ],
                skills: "AI & Data Tools: NotebookLM, Gemini Advanced, Prompt Engineering, Power BI. Development & PM Tools: Moodle LMS, H5P, Asana, Trello."
            };

            const generateSnippetBtn = document.getElementById('generateSnippetBtn');
            const jobDescriptionInput = document.getElementById('jobDescription');
            const jobDescriptionError = document.getElementById('jobDescriptionError');
            const snippetResultDiv = document.getElementById('snippetResult');
            const generatedTextP = document.getElementById('generatedText');
            const copySnippetBtn = document.getElementById('copySnippetBtn');

            generateSnippetBtn.addEventListener('click', async () => {
                const jobDescription = jobDescriptionInput.value.trim();
                
                jobDescriptionInput.classList.remove('border-red-500');
                jobDescriptionError.classList.add('hidden');

                if (!jobDescription) {
                    jobDescriptionInput.classList.add('border-red-500');
                    jobDescriptionError.classList.remove('hidden');
                    return;
                }

                generateSnippetBtn.disabled = true;
                generateSnippetBtn.textContent = 'Generating...';
                snippetResultDiv.classList.remove('hidden');
                generatedTextP.textContent = 'Analyzing job description and crafting response...';
                copySnippetBtn.classList.add('hidden');

                const systemPrompt = "You are a world-class career assistant. Your task is to write a concise, impactful paragraph for a cover letter. You will be given Rafi Jahin's professional summary, key experiences, and skills, along with a job description. Your goal is to connect specific, quantifiable achievements and skills from Rafi's background directly to the requirements in the job description. Do not invent new skills. Use a professional, confident tone and start the paragraph directly, without any introductory phrases like 'Here is a paragraph...'";
                
                const userQuery = `Here is Rafi Jahin's professional context:
                Summary: ${cvData.summary}
                Key Experience: 
                - At UNFPA: ${cvData.experience[0].points.join(' ')}
                - At Swisscontact: ${cvData.experience[1].points.join(' ')}
                Skills: ${cvData.skills}

                Here is the target job description:
                "${jobDescription}"

                Now, write one strong paragraph for a cover letter that links his experience directly to this job's requirements.`;

                try {
                    const generatedText = await callGeminiAPI(systemPrompt, userQuery);
                    generatedTextP.textContent = generatedText;
                    copySnippetBtn.classList.remove('hidden');
                } catch (error) {
                    generatedTextP.textContent = 'Sorry, an error occurred while generating the text. Please try again.';
                    console.error('Gemini API call failed:', error);
                } finally {
                    generateSnippetBtn.disabled = false;
                    generateSnippetBtn.innerHTML = 'Generate Cover Letter Snippet ✨';
                }
            });
            
            copySnippetBtn.addEventListener('click', () => {
                const tempTextarea = document.createElement('textarea');
                tempTextarea.value = generatedTextP.textContent;
                document.body.appendChild(tempTextarea);
                tempTextarea.select();
                document.execCommand('copy');
                document.body.removeChild(tempTextarea);
                copySnippetBtn.textContent = 'Copied!';
                setTimeout(() => {
                    copySnippetBtn.textContent = 'Copy to Clipboard';
                }, 2000);
            });

            async function callGeminiAPI(systemPrompt, userQuery, retries = 3, delay = 1000) {
                const apiKey = "";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
                
                const payload = {
                    contents: [{ parts: [{ text: userQuery }] }],
                    systemInstruction: {
                        parts: [{ text: systemPrompt }]
                    },
                };

                for (let i = 0; i < retries; i++) {
                    try {
                        const response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });

                        if (!response.ok) {
                            throw new Error(`HTTP error! status: ${response.status}`);
                        }

                        const result = await response.json();
                        const candidate = result.candidates?.[0];

                        if (candidate && candidate.content?.parts?.[0]?.text) {
                            return candidate.content.parts[0].text;
                        } else {
                            throw new Error('Invalid response structure from API');
                        }
                    } catch (error) {
                        if (i === retries - 1) throw error;
                        await new Promise(res => setTimeout(res, delay * Math.pow(2, i)));
                    }
                }
                 throw new Error('API call failed after multiple retries.');
            }

            const tabs = document.querySelectorAll('.tab');
            const tabPanes = document.querySelectorAll('.tab-pane');

            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(item => item.classList.remove('tab-active'));
                    tab.classList.add('tab-active');

                    const target = tab.getAttribute('data-tab');
                    tabPanes.forEach(pane => {
                        if (pane.id === target) {
                            pane.classList.remove('hidden');
                        } else {
                            pane.classList.add('hidden');
                        }
                    });
                });
            });

            const ctx = document.getElementById('skillsChart').getContext('2d');
            const skillsChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['AI & Data Analysis', 'Evaluation & M&E', 'Product Management', 'Partnership Building', 'Data Visualization'],
                    datasets: [{
                        label: 'Skill Level',
                        data: [5, 5, 4, 4, 5],
                        backgroundColor: 'rgba(74, 144, 138, 0.2)',
                        borderColor: 'rgba(74, 144, 138, 1)',
                        pointBackgroundColor: 'rgba(74, 144, 138, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(74, 144, 138, 1)'
                    }]
                },
                options: {
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            },
                            pointLabels: {
                                font: {
                                    size: 14,
                                },
                                color: '#383838'
                            },
                            ticks: {
                                backdropColor: '#FDFBF8',
                                color: '#777',
                                stepSize: 1,
                                max: 5,
                                min: 0
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        });
    </script>
</body>
</html>

